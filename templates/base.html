<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}MSVERIFY - Professional Verification Platform{% endblock %}</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="MSVERIFY - Advanced automated student and teacher verification platform powered by AI. Fast, secure, and reliable verification for educational discounts from Spotify, YouTube Premium, ChatGPT, Google Gemini, and more.">
    <meta name="keywords" content="student verification, teacher verification, educational discount, automated verification, student discount, Spotify student, YouTube Premium student, ChatGPT education, Google Gemini education, verification platform">
    <meta name="author" content="Masanto">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#667eea">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
    <meta property="og:title" content="{% block og_title %}MSVERIFY - Professional Verification Platform{% endblock %}">
    <meta property="og:description" content="Advanced automated student and teacher verification platform. Get verified for educational discounts instantly with AI-powered verification technology.">
    <meta property="og:image" content="{{ url_for('static', filename='og-image.png', _external=True) }}">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ request.url }}">
    <meta property="twitter:title" content="{% block twitter_title %}MSVERIFY - Professional Verification Platform{% endblock %}">
    <meta property="twitter:description" content="Advanced automated student and teacher verification platform. Get verified for educational discounts instantly.">
    <meta property="twitter:image" content="{{ url_for('static', filename='og-image.png', _external=True) }}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <link rel="alternate icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='apple-touch-icon.png') }}">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Three.js 3D Background -->
    <canvas id="three-canvas"></canvas>
    <!-- Modern Black Navbar with Neon Glow -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top modern-navbar">
        <div class="container">
            <a class="navbar-brand brand-logo" href="/">
                <i class="bi bi-shield-check-fill neon-icon" style="font-size: 1.8rem; color: var(--neon-purple); text-shadow: 0 0 20px var(--neon-purple);"></i>
                <span class="brand-text ms-2 fw-bold">MS<span class="neon-text">VERIFY</span></span>
            </a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-lg-center">
                    {% if session.user_id %}
                        <li class="nav-item mx-1">
                            <a class="nav-link px-3 py-2 rounded-pill modern-nav-link" href="/dashboard">
                                <i class="bi bi-speedometer2 me-1"></i> Dashboard
                            </a>
                        </li>
                        <li class="nav-item mx-1">
                            <a class="nav-link px-3 py-2 rounded-pill modern-nav-link" href="/verify">
                                <i class="bi bi-check-circle me-1"></i> Verify
                            </a>
                        </li>
                        <li class="nav-item mx-1">
                            <a class="nav-link px-3 py-2 rounded-pill modern-nav-link" href="/admin">
                                <i class="bi bi-shield-lock me-1"></i> Admin
                            </a>
                        </li>
                        <li class="nav-item mx-1">
                            <a class="btn btn-sm px-4 py-2 fw-bold modern-logout-btn" href="javascript:void(0);" onclick="logout(); return false;">
                                <i class="bi bi-box-arrow-right me-1"></i> Logout
                            </a>
                        </li>
                    {% else %}
                        <li class="nav-item mx-1">
                            <a class="nav-link px-3 py-2 rounded-pill modern-nav-link" href="/login">
                                <i class="bi bi-box-arrow-in-right me-1"></i> Login
                            </a>
                        </li>
                        <li class="nav-item mx-1">
                            <a class="btn btn-sm px-4 py-2 fw-bold modern-get-started-btn" href="/register">
                                <i class="bi bi-person-plus me-1"></i> Get Started
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="content-overlay">
        {% block content %}{% endblock %}
    </main>

    <!-- WhatsApp Floating Button -->
    <a href="{{ config.HELP_URL or 'https://whatsapp.com/channel/0029VakVntuKgsNz5QgqU30C' }}" target="_blank" class="whatsapp-float">
        <i class="bi bi-whatsapp"></i>
        <span class="whatsapp-text">Join Our Channel</span>
    </a>

    <!-- Modern Footer - Dark Theme -->
    <footer class="footer-modern mt-5 content-overlay" style="background: rgba(10, 10, 10, 0.95); color: white; position: relative; overflow: hidden; border-top: 1px solid rgba(139, 92, 246, 0.3); backdrop-filter: blur(20px);">
        <div style="position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.8), transparent); box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);"></div>
        <div class="container py-5">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-4 mb-md-0">
                    <h4 class="footer-brand mb-3 d-flex align-items-center justify-content-center justify-content-md-start">
                        <i class="bi bi-shield-check-fill" style="font-size: 2rem; color: var(--neon-purple); text-shadow: 0 0 20px var(--neon-purple);"></i>
                        <span class="ms-3 fw-bold" style="font-size: 1.5rem;">MS<span style="color: var(--neon-purple);">VERIFY</span></span>
                    </h4>
                    <p class="mb-2" style="color: rgba(255,255,255,0.7); font-size: 0.95rem;">
                        <i class="bi bi-stars me-2" style="color: var(--neon-purple);"></i>
                        Professional Verification Platform
                    </p>
                    <p class="mb-0" style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">
                        Advanced automated verification for students and teachers
                    </p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="mb-2 fw-semibold">
                        Â© 2025 <span style="color: var(--neon-purple); text-shadow: 0 0 10px var(--neon-purple);">Masanto</span>. All rights reserved.
                    </p>
                    <p class="mb-0" style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">
                        <i class="bi bi-lightning-charge-fill me-1" style="color: var(--neon-purple);"></i>
                        Powered by Advanced AI Technology
                    </p>
                    <div class="mt-3">
                        <span class="badge px-3 py-2" style="border-radius: 20px; background: var(--gradient-neon); box-shadow: var(--shadow-neon);">
                            <i class="bi bi-shield-check me-1"></i> 100% Secure
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    
    <!-- Three.js Background Animation - Modern Enhanced -->
    <script>
    // Three.js Animated Background
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x000000); // Black background
    
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ 
        canvas: document.getElementById('three-canvas'),
        alpha: false,
        antialias: true
    });
    
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    camera.position.z = 50;
    
    // Create particles with multiple colors
    const particlesGeometry = new THREE.BufferGeometry();
    const particlesCount = 2000;
    const posArray = new Float32Array(particlesCount * 3);
    const colors = new Float32Array(particlesCount * 3);
    
    for(let i = 0; i < particlesCount * 3; i += 3) {
        // Position
        posArray[i] = (Math.random() - 0.5) * 150;
        posArray[i + 1] = (Math.random() - 0.5) * 150;
        posArray[i + 2] = (Math.random() - 0.5) * 150;
        
        // Colors: purple, blue, pink
        const rand = Math.random();
        if (rand < 0.33) {
            // Purple
            colors[i] = 0.545; // R
            colors[i + 1] = 0.361; // G
            colors[i + 2] = 0.965; // B
        } else if (rand < 0.66) {
            // Blue
            colors[i] = 0.231;
            colors[i + 1] = 0.510;
            colors[i + 2] = 0.965;
        } else {
            // Pink
            colors[i] = 0.925;
            colors[i + 1] = 0.282;
            colors[i + 2] = 0.600;
        }
    }
    
    particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
    particlesGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
    
    // Material with vertex colors
    const particlesMaterial = new THREE.PointsMaterial({
        size: 0.25,
        vertexColors: true,
        transparent: true,
        opacity: 0.9,
        blending: THREE.AdditiveBlending,
        sizeAttenuation: true
    });
    
    const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
    scene.add(particlesMesh);
    
    // Add ambient glow spheres
    const sphereGeometry = new THREE.SphereGeometry(15, 32, 32);
    const sphereMaterial = new THREE.MeshBasicMaterial({
        color: 0x8b5cf6,
        transparent: true,
        opacity: 0.03,
        wireframe: true
    });
    const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
    scene.add(sphere);
    
    // Animation
    let mouseX = 0;
    let mouseY = 0;
    let targetRotationY = 0;
    let targetRotationX = 0;
    
    document.addEventListener('mousemove', (event) => {
        mouseX = (event.clientX / window.innerWidth) * 2 - 1;
        mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
    });
    
    function animate() {
        requestAnimationFrame(animate);
        
        // Smooth rotation
        targetRotationY = mouseX * 0.5;
        targetRotationX = mouseY * 0.5;
        
        particlesMesh.rotation.y += (targetRotationY - particlesMesh.rotation.y) * 0.01;
        particlesMesh.rotation.x += (targetRotationX - particlesMesh.rotation.x) * 0.01;
        
        // Constant slow rotation
        particlesMesh.rotation.y += 0.0003;
        particlesMesh.rotation.x += 0.0001;
        
        // Sphere rotation
        sphere.rotation.x += 0.001;
        sphere.rotation.y += 0.002;
        
        // Pulse effect
        const time = Date.now() * 0.001;
        const scale = 1 + Math.sin(time * 0.5) * 0.05;
        particlesMesh.scale.set(scale, scale, scale);
        
        // Breathing effect
        particlesMaterial.opacity = 0.8 + Math.sin(time * 0.3) * 0.2;
        
        renderer.render(scene, camera);
    }
    
    animate();
    
    // Responsive
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    });
    </script>
    
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
